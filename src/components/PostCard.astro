---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "./FormattedDate.astro";

export interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
---

<a
  href={!post.data.planned ? `/blog/${post.slug}` : null}
  class={`flex flex-col items-start space-y-2 rounded-lg bg-neutral-300 p-5 hover:bg-neutral-400 dark:bg-neutral-800 dark:hover:bg-neutral-700`}
>
  <div class="space-y-1">
    <div class="flex items-center space-x-2">
      <h2 class="text-xl font-bold text-black dark:text-white">{post.data.title}</h2>
      {
        post.data.planned && (
          <span class="flex items-center justify-center rounded-full bg-amber-500 p-0.5 px-1.5 text-xs font-black text-black">
            Planned
          </span>
        )
      }
    </div>
    <div class="flex flex-col">
      <span class="flex items-center space-x-1 text-sm font-bold uppercase">
        <FormattedDate date={post.data.pubDate} />
        {post.data.tags.map((tag) => <span>{` â€¢ ${tag}`}</span>)}
      </span>
    </div>
  </div>
  <p>{post.data.description}</p>
</a>
